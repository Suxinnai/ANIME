/*!
 * Giscus Anime Theme (Safe & Elegant)
 * 风格：当前博客同款 (Anime Pink & Blue)
 * 核心：只修改颜色/形状/阴影，零布局风险
 */

main {
  /* === 1. 核心配色 (依照博客风格) === */

  /* 基础按钮 (默认状态) */
  --color-btn-text: #5a5c6e;
  --color-btn-bg: #fff;
  /* 白底 */
  --color-btn-border: #e0e0e0;
  --color-btn-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  --color-btn-inset-shadow: none;
  --color-btn-hover-bg: #f9f9f9;
  --color-btn-hover-border: #d0d0d0;
  --color-btn-selected-bg: #fff0f5;
  /* 选中时淡淡的粉 */

  /* 主要操作按钮 (登录/提交) - 您的 Anime Pink */
  --color-btn-primary-text: #ffffff;
  --color-btn-primary-bg: #ff8fab;
  --color-btn-primary-border: transparent;
  --color-btn-primary-shadow: 0 4px 10px rgba(255, 143, 171, 0.4);
  --color-btn-primary-inset-shadow: none;
  --color-btn-primary-hover-bg: #ff769b;
  --color-btn-primary-hover-border: transparent;
  --color-btn-primary-selected-bg: #e06c88;

  /* 链接颜色 - 天空蓝 */
  --color-accent-fg: #79c0ff;
  --color-accent-emphasis: #ff8fab;

  /* === 2. 背景通透化 === */
  /* 让主背景透明，透出您网页底部的颜色 */
  --color-canvas-default: transparent;
  --color-canvas-overlay: #ffffff;

  /* 输入框背景：半透明白，保证文字清晰 */
  --color-canvas-inset: rgba(255, 255, 255, 0.6);
  --color-input-bg: rgba(255, 255, 255, 0.8);

  --color-border-default: rgba(0, 0, 0, 0.08);
  --color-border-muted: rgba(0, 0, 0, 0.05);

  /* 文字颜色：保持清晰的深灰 */
  --color-fg-default: #2b2d42;
  --color-fg-muted: #6e7082;
  --color-fg-subtle: #8b949e;
}

/* 深色模式适配 */
@media (prefers-color-scheme: dark) {
  main {
    --color-fg-default: #f0f6fc;
    --color-fg-muted: #8b949e;
    --color-canvas-default: transparent;
    --color-canvas-overlay: #1c2128;
    --color-canvas-inset: rgba(0, 0, 0, 0.2);
    --color-input-bg: rgba(0, 0, 0, 0.3);

    --color-border-default: rgba(255, 255, 255, 0.1);
    --color-btn-bg: rgba(255, 255, 255, 0.05);
    --color-btn-primary-bg: #ff769b;
  }
}

/* === 3. 安全形状美化 (Safe Shapes) === */

/* 输入框：8px 圆角 + 柔和边框 */
.gsc-comment-box {
  border-radius: 8px;
  border: 1px solid var(--color-border-default);
  backdrop-filter: blur(4px);
  /* 磨砂玻璃感 */
}

.gsc-comment-box-textarea {
  border-radius: 8px;
}

/* 按钮：统一 8px 圆角 */
button {
  border-radius: 8px !important;
  transition: all 0.2s ease;
}

button:active {
  transform: scale(0.98);
}

/* 提交按钮特殊处理：更强的阴影和吸引力 */
.gsc-main .gsc-button-primary {
  border-radius: 20px !important;
  /* 提交按钮可以稍微圆润一点 */
}

/* 头像：圆形 + 间距优化 */
.gsc-comment-author-avatar {
  border-radius: 50% !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  margin-right: 8px;
  /* 增加一点间距，防止和名字挤在一起 */
}

/* 评论卡片：增加层次感 */
.gsc-comment {
  border-radius: 8px !important;
  background-color: rgba(255, 255, 255, 0.8) !important;
  /* 微透白底 */
  border: 1px solid var(--color-border-muted) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03) !important;
  /* 极淡的阴影 */
}

/* 修复用户名的背景形状 - 去掉默认的椭圆底色 */
.gsc-comment-header {
  background: transparent !important;
}

/* 更激进的修复：把所有可能产生椭圆的元素背景都去掉 */
.gsc-comment-author,
.gsc-comment-author-avatar+*,
.gsc-comment-header>*,
.gsc-comment-header a,
.gsc-comment-author>* {
  background: transparent !important;
  background-color: transparent !important;
  border-radius: 8px !important;
  /* 如果还有背景，至少改成方角 */
}

.dark .gsc-comment {
  background-color: rgba(30, 30, 35, 0.6) !important;
}

/* 表情回应区：圆润边框 */
.gsc-reactions-button {
  border-radius: 8px !important;
  border: 1px solid var(--color-border-muted) !important;
}

/* 顶部排序按钮：保持原样，只改圆角 */
.gsc-header-items button {
  border-radius: 6px !important;
}